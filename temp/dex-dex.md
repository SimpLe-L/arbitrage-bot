## 套利机会
1. 周期性全路径扫描：        不漏机会但是占用计算资源，延迟
2. 监听交易事件（Swap/Sync）：快速反应	需高性能处理事件
3. 监听池子创建：            新路径发现，套利机会不一定马上出现
4. 监听 mempool：           抢占 MEV 机会，高难度，需要竞价

三明治攻击(夹子)：实时监听 mempool 中的 pending 交易，判断其中是否存在可被夹击的交易

## 基建-池子管理及计算
1. 节点的选择
  --在后期 BOT 的运行过程中，需要的大部分都是以实时或者最近几个区块数据，所以像 ETH、BSC 等 EVM 链只需跑 Full 之类的裁剪节点即可。第一次同步池子需要从早期区块开始，但是也就最初几次获取历史池子信息，直接使用免费额度的 infura、alchemy 等，同步后用 csv 或者自己喜欢的数据库存起来，大大可以减少自己的节点性能配置，除非经常需要历史数据回溯。

2. 池子同步
  --最常见的 AMM 模型 Uni、Pancake v2v3 池子最初同步时保存合约地址、token0 地址名字精度、Token1 地址名字精度、费率即可。步骤为先用工厂合约(factory)地址和“池子创建事件”的签名，分批查询区块链的事件日志（logs），再从这些事件中解析出所有池子创建的合约地址，最后再批量同步每个池子的详细信息和状态。

  --工厂合约在各个协议的文档中可以找到，可以直接 google 搜索如 "pancakeswap doc"，找到 Factory Contract address 就可以看到所有链部署的地址

  --方法这里可以参照大佬写的 darkforestry/amms-rs，Zacholme7/PoolSync ，基本就是分批次去解析工厂合约创建池子的 Log
  
## 基建-GAS 优化
寻找机会、计算最优利润、构建交易并快速提交以进入 N+1 区块。如何在有限的利润中，控制好你的 GAS 成本非常重要，这方面需要深入的学习 Solidity Yul 和 Huff 语言的基础知识，编写出属于自己的绝佳省油丰田合约，使用 Forge 等工具来测量 GAS 使用情况，合约入门前期可看 dexloom/multicaller
## 基建-池子管理及计算
## 基建-池子管理及计算

三角套利是从 solidquant/mev-templates 开始的，这个示例 Python/Javascript/Rust 三种语言，非常适合有一定 EVM 基础的小伙伴入门，而且在他的 Medium 也能找到好几期关于讨论 MEV 或者 Arbitrage 的文章，非常值得小白系统级入门。

在他的示例中也能够非常清晰的了解到一个套利流程：检索历史所有池子 -> 异步处理计算影响的池子 -> 模拟计算多跳路径 -> 签署交易并创建包或发送到 Flashbots

研究方向

池子管理及计算
V2 原理、V3 的计算，包括多跳中包含 V2V3 转换，如何做到寻找机会更快，套利公式更快更准，让套利空间更加有竞争性。
这里分享几个框架 dexloom/loom 、darkforestry/amms-rs、0 xKitsune/uniswap-v 3-math，其中 loom 的作者们非常强大，能够将 Defi 套利工具模块化，能够非常高效的来定制自动化策略开发。

GAS 优化
寻找机会、计算最优利润、构建交易并快速提交以进入 N+1 区块。解决上述难题，最后演变成关于 Gas 的博弈，PGA - Price Gas Auction
如何在有限的利润中，控制好你的 GAS 成本非常重要，这方面需要深入的学习 Solidity Yul 和 Huff 语言的基础知识，编写出属于自己的绝佳省油丰田合约，使用 Forge 等工具来测量 GAS 使用情况，合约入门前期可看 dexloom/multicaller

基建军备
一个不断扫描区块链以寻找新的机会，缺少不了一个强有力的 RPC，不管是主链还是策略都需要拥有强大的性能和与验证着足够近的机房，通常公共付费节点拥有严格的速率限制，并且短时间就会耗余额，目前不太会去使用这些。节点客户端的选择也非常重要，主网 Geth 客户端已经非常成熟，但也有像 Reth 或 Revm 这样的高级工具，高度模块化、强大的性能、活跃的社区。


